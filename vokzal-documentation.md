# Система оповещения пассажиров объектов транспортной инфраструктуры с использованием визуальных, звуковых и индивидуальных каналов связи
___
# Постановка задачи
Разработать систему, обеспечивающую:
* Получение из внешних источников информации, которую нужно передать пассажирам объектов
  транспортной инфраструктуры, подключенных к системе.
* Редактирование переданной и создание новой информации такого типа пользователями
  с разными уровнями прав доступа.
* Хранение этой и прочей информации, необходимой для корректной работы системы.
* Логирование действий пользователей.
* Форматирование информации в тот вид, который будет удобен для ее передачи на внешние устройства,
  оповещающие пассажиров.
* Передачу информации на эти устройства во время, указанное пользователем или максимально близкое
  к нему.
* Удобное использование. Визуальный интерфейс системы должен представлять собой диспетчерский терминал.
 Необходимо учесть, что пользователь будет работать долгое время без перерывов, поэтому
  следует снизить зрительную нагрузку - сделать интерфейс понятным, не перегруженным, с мягкой
  цветовой гаммой, акцентирующей важные детали интерфейса.

Основными требованиями к системе являются быстродействие, отказоустойчивость, возможность расширения,
модульность и гибкость.

Система должна быть построена на клиент-серверной архитектуре.

# Средства реализации
## Средства реализации серверной части
* Java development kit 17
* Spring Framework 5.3
* Spring Boot 2.6
* Maven 3.8

## Средства реализации клиентской части
* Html 5
* Css 3
* JavaScript (ECMAScript 6)
* Node JS
* React JS
* Chromium
* Electron

# Проектирование
## Основные понятия, используемые в системе
* Событие - ситуация во внешней среде, о которой нужно проинформировать.
События делятся на типы. Когда событие происходит его тип и информация о нем передается внешним источником в систему.
* Шаблон события - файл, в который подставляется, передаваемая с типом события. Для большинства типов события задан шаблон.
* Контент - аудио-, видео- или текстовый файл.
* Плейлист - отсортированный список пронумерованного контента, публикуемый и исполняемый целиком.
* Действие - операция, совершаемая при обработке события.
* Сценарий - последовательность действий.
* Публикация - совокупность контента и информации о том, как его публиковать
(приоритет публикации, какая система ее создала, кому она адресована, в какое время планируем ее воспроизвести,
в какое время она была воспроизведена, длительность, статус).
* План публикации - алгоритм, описывающий сколько раз, в течении какого отрезка времени нужно повторять публикацию.
* Получатель - человек, которого нужно проинформировать о событии или показать ему контент.
* Группа получателей - получатели, объединенные по какому-либо общему признаку. Например, пассажиры одного рейса.

## Основные компоненты системы
* Шлюз событий. Получает из внешней системы тип и информацию о событии, преобразует в формат понятный
  Системе обработки событий и передает системе.
* Хранилище контента – область памяти, предназначенная для хранения объемных файлов.
* База данных.
* Система обработки событий (СОС). Управляет созданием контента по шаблонам, на основе типа и информации о событии.
 Позволяет создавать и редактировать шаблоны, хранит шаблоны и их связи с событиями. На основе сценария создает публикации
  и записывает их в базу данных.
* Система формирования плейлистов вручную/автоматически (ручная/автоматическая СФП). Позволяет создавать и редактировать
  контент, плейлисты и планы публикаций.
* Система управления исполнением (СУИ). Делает выборку публикаций из базы данных, основываясь на приоритете и времени.
 На основе этой выборки сигнализирует шлюзу исполнения о том, что нужно показать тот или иной контент,
  передает шлюзу сам контент или ссылку на него.
* Шлюз исполнения. Забирает контент из хранилища, если необходимо форматирует и передает внешнему устройству,
  которое показывает контент пассажирам.


  ![](pictures/skhema_vzaimodeystvia_componentov.png "Схема взаимодействия компонентов")